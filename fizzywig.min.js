(function(a,b){function d(a,b){var c={},d,e;return typeof a=="string"?d=document.querySelector(a):a instanceof Element&&(d=a),e=d.querySelectorAll("[data-content-editor-command]"),e=Array.prototype.map.apply(e,[function(a){return f(a)}]),c.enable=function(){return e.forEach(function(a){a.enable()}),c},c.disable=function(){return e.forEach(function(a){a.disable()}),c},c.disable()}function e(a,b){function f(){b.events.emit("focus")}function g(){b.events.emit("blur")}var c={},d={},e;return e=a.getAttribute("data-content-editable")||"data",i(d,e,a.innerHTML),c.enable=function(){return a.setAttribute("contentEditable",!0),c},c.disable=function(){return a.removeAttribute("contentEditable"),c},c.json=function(){return d},j(a,"focus",f),j(a,"blur",g),c.enable()}function f(a){function d(a){a.preventDefault(),console.log(document.activeElement),document.execCommand(c,!1,null)}var b={},c;return c=a.getAttribute("data-content-editor-command"),b.enable=function(){a.removeAttribute("disabled")},b.disable=function(){a.setAttribute("disabled","disabled")},j(a,"click",d),b}function g(a){var b={},c={};return b.on=function(a,d){return c[a]=c[a]||[],c[a].indexOf(d)===-1&&c[a].push(d),b},b.off=function(a,d){if(c[a]){var e=c[a].indexOf(d);c[a]=c[a].slice(0,e).concat(c[a].slice(e+1))}return b},b.emit=function(b,d){c[b]&&c[b].forEach(function(b){b.apply(a,d)})},b}function h(){var a=Array.prototype.slice.apply(arguments);return a.reduce(function(a,b){return Object.keys(b).forEach(function(c){a[c]&&a[c].constructor===Object&&b[c].constructor===Object?h(a[c],b[c]):a[c]=b[c]}),a})}function i(a,b,c){function d(a,b,c,d){return a[b]}function e(a,b,d,e){return d===e.length-1?a[b]=c:a[b]=a[b]||{}}return typeof b=="string"&&(b=b.split(".")),b.reduce(typeof c=="undefined"?d:e,a)}function j(a,b,c,d){a.addEventListener?a.addEventListener(b,l.apply(this,[c]),d||!1):a.attachEvent&&a.attachEvent("on"+b,l.apply(this,[c]))}function k(a,b,c){a.addEventListener?a.removeEventListener(b,l.apply(this,[c])):a.attachEvent&&a.detachEvent("on"+b,l.apply(this,[c]))}function l(b){return function(c){c||(c=a.event);if(!("defaultPrevented"in c)){c.defaultPrevented=!1;var d=c.preventDefault;c.preventDefault=function(){this.defaultPrevented=!0,this.returnValue=!1,d.call(this)}}c.target=c.target||c.srcElement,c.which=c.keyCode||c.charCode,b.apply(this,[c])}}var c;c={version:"0.0.1"},c.content=function(b){var c={},f,i,j;if(typeof b=="string")f=document.querySelectorAll(b);else if(b instanceof f||Array.isArray(b))f=b;return f=Array.prototype.map.apply(f,[function(a){return e(a,c)}]),c.toolbar=function(a){return arguments.length?(i=d(a,c),c):i},c.enable=function(){return f.forEach(function(a){a.enable()}),c},c.disable=function(){return f.forEach(function(a){a.disable()}),c},c.json=function(){var a={},b=f.map(function(a){return a.json()});return b.unshift(a),h.apply(null,b),a},c.events=g(c),c.events.on("focus",function(){i&&i.enable()}),c.events.on("blur",function(){document.selection?range=document.selection.createRange():range=a.getSelection(),range.rangeCount>0&&(range=range.getRangeAt(0)),console.log(range)}),c.enable()},a.fizzywig=c})(window);